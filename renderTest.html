<!DOCTYPE html>
  <head>

  </head>
  <body>
    <canvas id='myCanvas' width='1000px' height='1000px'></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var ctx = canvas.getContext('2d');

      var colorArray =['#000000', '#a4a1a1'];
      var smallestEnemy = {symmetryLine: 0, xCenter: 677.5, yCenter: 250, width: 40, height: 100, rotation: 0, shapes: [
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.5118343195266272, y: -0.1590909090909091},
      {x: -0.5887573964497042, y: -0.3106060606060606},
      {x: -0.27514792899408286, y: -0.42424242424242425},
      {x: -0.27514792899408286, y: -0.22474747474747475},
      ]},
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'curvedshape',positions: [

      {x: -0.4526627218934911, y: 0.2398989898989899},
      {x: -0.3875739644970414, y: 0.1599326599326599},
      {x: -0.3224852071005917, y: 0.07996632996633002},
      {x: -0.23372781065088757, y: 0.017676767676767676},
      {x: -0.17159763313609466, y: -0.0008417508417508657},
      {x: -0.08579881656804733, y: -0.0016835016835016596},
      {x: 0, y: -0.0025252525252525255},
      {x: 0, y: 0.18855218855218844},
      {x: 0, y: 0.3796296296296296},
      {x: 0, y: 0.5707070707070707},
      {x: -0.06015779092702147, y: 0.5664983164983165},
      {x: -0.12031558185404362, y: 0.5622895622895623},
      {x: -0.1804733727810651, y: 0.5580808080808081},
      {x: -0.06804733727810651, y: 0.30808080808080807},
      {x: -0.23372781065088757, y: 0.255050505050505},
      ]},
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.43758384376202464, y: -0.17968791606752932},
      {x: -0.35798816568047337, y: 0.14898989898989898},
      {x: -0.2869822485207101, y: 0.09343434343434344},
      {x: -0.34939840475868544, y: -0.20415046777085447},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 3.5/169, positions: [

      {x: -0.5118343195266272, y: -0.1590909090909091},
      {x: -0.5887573964497042, y: -0.3106060606060606},
      {x: -0.27514792899408286, y: -0.42424242424242425},
      {x: -0.27514792899408286, y: -0.22474747474747475},
      {x: -0.5118343195266272, y: -0.1590909090909091},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'curvedline',lineWidth: 6.4/169, positions: [

      {x: 0, y: 0.5707070707070707},
      {x: -0.06015779092702147, y: 0.5664983164983165},
      {x: -0.12031558185404362, y: 0.5622895622895623},
      {x: -0.1804733727810651, y: 0.5580808080808081},
      {x: -0.06804733727810651, y: 0.30808080808080807},
      {x: -0.23372781065088757, y: 0.255050505050505},
      {x: -0.4526627218934911, y: 0.2398989898989899},
      {x: -0.3796844181459564, y: 0.16582491582491588},
      {x: -0.3067061143984223, y: 0.09175084175084171},
      {x: -0.23372781065088757, y: 0.017676767676767676},
      {x: -0.17159763313609466, y: -0.0008417508417508657},
      {x: -0.0779092702169623, y: 0.004208754208754185},
      {x: 0, y: -0.0025252525252525255},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.6/169, positions: [

      {x: -0.35798816568047337, y: 0.14898989898989898},
      {x: -0.43758384376202464, y: -0.17968791606752932},
      {x: -0.34939840475868544, y: -0.20415046777085447},
      {x: -0.2869822485207101, y: 0.07828282828282829},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.9000000000000001/169, positions: [

      {x: -0.4940828402366864, y: -0.31313131313131315},
      {x: -0.3047337278106509, y: -0.3813131313131313},
      {x: -0.3047337278106509, y: -0.2676767676767677},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.9000000000000001/169, positions: [

      {x: -0.5118343195266272, y: -0.255050505050505},
      {x: -0.4822485207100592, y: -0.18434343434343434},
      {x: -0.3698224852071006, y: -0.21464646464646464},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.8/169, positions: [

      {x: 0.41124260355029585, y: -0.18686868686868688},
      {x: 0.34023668639053256, y: 0.1111111111111111},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.5/169, positions: [

      {x: -0.3698224852071006, y: -0.1919191919191919},
      {x: -0.3067061143984223, y: 0.09175084175084171},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'circle', line: true, radius : 0.07222813973806924, positions: [

      {x: -0.21597633136094674, y: 0.2196969696969697}]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.1/169, positions: [

      {x: -0.1863905325443787, y: 0.03787878787878788},
      {x: -0.07396449704142012, y: 0.03282828282828283},
      {x: -0.1863905325443787, y: 0.16666666666666666},
      {x: -0.29289940828402367, y: 0.15404040404040403},
      {x: -0.1863905325443787, y: 0.03787878787878788},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.9000000000000001/169, positions: [

      {x: 0, y: 0.03535353535353535},
      {x: 0.21597633136094674, y: 0.04040404040404041},
      {x: 0.3698224852071006, y: 0.21717171717171718},
      {x: 0.06804733727810651, y: 0.30808080808080807},
      {x: 0, y: 0.3055555555555556},
      {x: 0, y: 0.03535353535353535},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'circle', line: true, radius : 0.05582237356246511, positions: [

      {x: 0.14497041420118342, y: 0.09848484848484848}]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1/169, positions: [

      {x: 0.04437869822485207, y: 0.05808080808080808},
      {x: 0.21005917159763313, y: 0.05808080808080808},
      {x: 0.34023668639053256, y: 0.21464646464646464},
      {x: 0.09171597633136094, y: 0.2904040404040404},
      {x: 0.03254437869822485, y: 0.2904040404040404},
      {x: 0.04437869822485207, y: 0.05808080808080808},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.2000000000000002/169, positions: [

      {x: 0.06804733727810651, y: 0.2676767676767677},
      {x: 0.06804733727810651, y: 0.20707070707070707},
      {x: 0.11538461538461539, y: 0.20959595959595959},
      {x: 0.11538461538461539, y: 0.2702020202020202},
      {x: 0.06804733727810651, y: 0.2676767676767677},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.4000000000000001/169, positions: [

      {x: 0.15680473372781065, y: 0.25757575757575757},
      {x: 0.15088757396449703, y: 0.18181818181818182},
      {x: 0.20414201183431951, y: 0.18181818181818182},
      {x: 0.21005917159763313, y: 0.2474747474747475},
      {x: 0.15680473372781065, y: 0.25757575757575757},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.4000000000000001/169, positions: [

      {x: 0.2455621301775148, y: 0.23232323232323232},
      {x: 0.23964497041420119, y: 0.14898989898989898},
      {x: 0.2869822485207101, y: 0.1691919191919192},
      {x: 0.2869822485207101, y: 0.21717171717171718},
      {x: 0.2455621301775148, y: 0.23232323232323232},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.5/169, positions: [

      {x: 0.07396449704142012, y: 0.5328282828282829},
      {x: 0.07988165680473373, y: 0.34595959595959597},
      {x: 0, y: 0.34595959595959597},
      {x: 0, y: 0.3712121212121212},
      {x: -0.10355029585798817, y: 0.3712121212121212},
      {x: -0.08579881656804733, y: 0.4065656565656566},
      {x: 0, y: 0.398989898989899},
      {x: 0, y: 0.43434343434343436},
      {x: -0.09763313609467456, y: 0.4318181818181818},
      {x: -0.09763313609467456, y: 0.46464646464646464},
      {x: 0, y: 0.46464646464646464},
      {x: 0, y: 0.49242424242424243},
      {x: -0.05621301775147929, y: 0.4898989898989899},
      {x: -0.04437869822485207, y: 0.5404040404040404},
      {x: 0, y: 0.553030303030303},
      {x: 0, y: 0.5277777777777778},
      {x: 0.07396449704142012, y: 0.5328282828282829},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 3.5/169, positions: [

      {x: -0.020710059171597635, y: 0.5757575757575758},
      {x: 0.05029585798816568, y: 0.5707070707070707},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 4.3/169, positions: [

      {x: -0.038461538461538464, y: -0.005050505050505051},
      {x: 0.03254437869822485, y: -0.005050505050505051},
      ]}
    ]};
      var spaceTank = {symmetryLine: 0, xCenter: 677.5, yCenter: 276, width: 75, height: 75, rotation: 0, shapes: [
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.42664670658682635, y: -0.2990353697749196},
      {x: -0.38772455089820357, y: -0.3536977491961415},
      {x: -0.04940119760479042, y: -0.05144694533762058},
      {x: 0, y: -0.08360128617363344},
      {x: 0, y: 0.05144694533762058},
      {x: -0.09431137724550898, y: 0.09646302250803858},
      {x: -0.4296407185628742, y: 0.36977491961414793},
      {x: -0.4476047904191617, y: 0.29260450160771706},
      {x: -0.07634730538922156, y: 0.05466237942122187},
      {x: -0.08233532934131736, y: -0.02572347266881029},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 3.3000000000000003/334, positions: [

      {x: -0.38772455089820357, y: -0.3536977491961415},
      {x: -0.04940119760479042, y: -0.05144694533762058},
      {x: -0.09431137724550898, y: 0.09646302250803858},
      {x: -0.4296407185628742, y: 0.36977491961414793},
      {x: -0.4476047904191617, y: 0.29260450160771706},
      {x: -0.07634730538922156, y: 0.05466237942122187},
      {x: -0.08233532934131736, y: -0.02572347266881029},
      {x: -0.42664670658682635, y: -0.2990353697749196},
      {x: -0.38772455089820357, y: -0.3536977491961415},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.2/334, positions: [

      {x: -0.38772455089820357, y: -0.3215434083601286},
      {x: -0.19910179640718562, y: -0.15434083601286175},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.9000000000000004/334, positions: [

      {x: 0.38173652694610777, y: -0.28938906752411575},
      {x: 0.2470059880239521, y: -0.18006430868167203},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.2/334, positions: [

      {x: -0.43263473053892215, y: 0.34726688102893893},
      {x: -0.09131736526946108, y: 0.06752411575562701},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.2/334, positions: [

      {x: 0.4416167664670659, y: 0.3215434083601286},
      {x: 0.09730538922155689, y: 0.08038585209003216},
      ]},
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.5074850299401198, y: -0.15434083601286175},
      {x: -0.5224550898203593, y: -0.40192926045016075},
      {x: -0.30988023952095806, y: -0.5273311897106109},
      {x: -0.3068862275449102, y: -0.2797427652733119},
      ]},
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.5583832335329342, y: 0.27009646302250806},
      {x: -0.5523952095808383, y: 0.47266881028938906},
      {x: -0.3218562874251497, y: 0.38263665594855306},
      {x: -0.35778443113772457, y: 0.14469453376205788},
      ]},
      {symmetryBool: true, color: 1, globalAlpha: 1, type: 'curvedshape',positions: [

      {x: 0, y: 0.2765273311897106},
      {x: -0.08932135728542925, y: 0.2765273311897106},
      {x: -0.17864271457085817, y: 0.2765273311897106},
      {x: -0.22604790419161677, y: 0.21221864951768488},
      {x: -0.25898203592814373, y: 0.15434083601286175},
      {x: -0.25, y: 0.06109324758842444},
      {x: -0.4026946107784431, y: -0.003215434083601286},
      {x: -0.3787425149700599, y: -0.17684887459807075},
      {x: -0.1751497005988024, y: -0.3440514469453376},
      {x: 0, y: -0.33762057877813506},
      {x: 0, y: -0.021436227224008637},
      {x: 0, y: 0.1275455519828509},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 3.8000000000000003/334, positions: [

      {x: -0.5583832335329342, y: 0.27009646302250806},
      {x: -0.35778443113772457, y: 0.14469453376205788},
      {x: -0.3218562874251497, y: 0.38263665594855306},
      {x: -0.5523952095808383, y: 0.47266881028938906},
      {x: -0.5583832335329342, y: 0.26688102893890675},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 3.9000000000000004/334, positions: [

      {x: -0.30988023952095806, y: -0.5273311897106109},
      {x: -0.3068862275449102, y: -0.2797427652733119},
      {x: -0.5074850299401198, y: -0.15434083601286175},
      {x: -0.5224550898203593, y: -0.40192926045016075},
      {x: -0.30988023952095806, y: -0.5273311897106109},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'curvedline',lineWidth: 5.4/334, positions: [

      {x: 0, y: 0.2765273311897106},
      {x: -0.08932135728542925, y: 0.2765273311897106},
      {x: -0.17864271457085817, y: 0.2765273311897106},
      {x: -0.22604790419161677, y: 0.21221864951768488},
      {x: -0.25898203592814373, y: 0.15434083601286175},
      {x: -0.25, y: 0.06109324758842444},
      {x: -0.4026946107784431, y: -0.003215434083601286},
      {x: -0.3787425149700599, y: -0.17684887459807075},
      {x: -0.1751497005988024, y: -0.3440514469453376},
      {x: 0, y: -0.33440514469453375},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.6/334, positions: [

      {x: -0.44461077844311375, y: -0.42765273311897106},
      {x: -0.3248502994011976, y: -0.4983922829581994},
      {x: -0.3248502994011976, y: -0.28938906752411575},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.8000000000000003/334, positions: [

      {x: -0.49550898203592814, y: -0.3022508038585209},
      {x: -0.48952095808383234, y: -0.18971061093247588},
      {x: -0.3997005988023952, y: -0.24437299035369775},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.6/334, positions: [

      {x: -0.531437125748503, y: 0.3762057877813505},
      {x: -0.531437125748503, y: 0.28938906752411575},
      {x: -0.4296407185628742, y: 0.2315112540192926},
      ]},
      {symmetryBool: true, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.4000000000000004/334, positions: [

      {x: -0.36077844311377244, y: 0.2861736334405145},
      {x: -0.34281437125748504, y: 0.3665594855305466},
      {x: -0.5194610778443114, y: 0.43729903536977494},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.3000000000000003/334, positions: [

      {x: 0.025449101796407185, y: 0.2379421221864952},
      {x: 0.025449101796407185, y: 0.0932475884244373},
      {x: 0.19311377245508982, y: 0.13183279742765272},
      {x: 0.1721556886227545, y: 0.20257234726688103},
      {x: 0.025449101796407185, y: 0.2379421221864952},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.5/334, positions: [

      {x: -0.20508982035928144, y: 0.19614147909967847},
      {x: -0.20508982035928144, y: -0.10610932475884244},
      {x: -0.1631736526946108, y: -0.09967845659163987},
      {x: -0.15718562874251496, y: 0.22508038585209003},
      {x: -0.20508982035928144, y: 0.19614147909967847},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2/334, positions: [

      {x: -0.13323353293413173, y: 0.21864951768488747},
      {x: -0.13622754491017963, y: -0.01929260450160772},
      {x: -0.09431137724550898, y: -0.022508038585209004},
      {x: -0.08832335329341318, y: 0.21864951768488747},
      {x: -0.13323353293413173, y: 0.21864951768488747},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 1.9000000000000001/334, positions: [

      {x: -0.061377245508982034, y: 0.24437299035369775},
      {x: -0.02844311377245509, y: 0.22508038585209003},
      {x: -0.0344311377245509, y: 0.04501607717041801},
      {x: -0.07335329341317365, y: 0.0707395498392283},
      {x: -0.061377245508982034, y: 0.24437299035369775},
      ]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'circle',radius : 0.10241096632626989, line: true, positions: [

      {x: 0.07634730538922156, y: -0.05144694533762058}]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'circle',radius : 0.05098618672433055, line: true, positions: [

      {x: -0.10029940119760479, y: -0.13183279742765272}]},
      {symmetryBool: false, color: 0, globalAlpha: 1, type: 'polyline',lineWidth: 2.8000000000000003/334, positions: [

      {x: -0.22604790419161677, y: 0.21221864951768488},
      {x: -0.25, y: 0.06109324758842444},
      {x: -0.35479041916167664, y: -0.028938906752411574},
      {x: -0.34880239520958084, y: -0.08360128617363344},
      {x: -0.27694610778443113, y: -0.08038585209003216},
      {x: -0.27395209580838326, y: -0.1832797427652733},
      {x: -0.1631736526946108, y: -0.1832797427652733},
      {x: -0.1631736526946108, y: -0.2347266881028939},
      {x: -0.05239520958083832, y: -0.2315112540192926},
      {x: -0.05239520958083832, y: -0.28938906752411575},
      {x: 0.0014970059880239522, y: -0.2990353697749196},
      {x: 0, y: -0.18971061093247588},
      {x: 0.03143712574850299, y: -0.18971061093247588},
      {x: 0.02245508982035928, y: -0.2958199356913183},
      {x: 0.10329341317365269, y: -0.2797427652733119},
      {x: 0.1062874251497006, y: -0.1832797427652733},
      {x: 0.12724550898203593, y: -0.17684887459807075},
      {x: 0.11826347305389222, y: -0.2829581993569132},
      {x: 0.18413173652694612, y: -0.24758842443729903},
      {x: 0.19011976047904192, y: -0.17041800643086816},
      {x: 0.22904191616766467, y: -0.15434083601286175},
      {x: 0.22305389221556887, y: -0.22186495176848875},
      {x: 0.26497005988023953, y: -0.1864951768488746},
      {x: 0.25898203592814373, y: -0.06109324758842444},
      {x: 0.35479041916167664, y: -0.06430868167202572},
      {x: 0.35479041916167664, y: -0.012861736334405145},
      {x: 0.29191616766467066, y: -0.012861736334405145},
      {x: 0.29191616766467066, y: 0.03858520900321544},
      {x: 0.25, y: 0.06109324758842444},
      {x: 0.2470059880239521, y: 0.09967845659163987},
      {x: 0.22005988023952097, y: 0.09967845659163987},
      {x: 0.22604790419161677, y: 0.21221864951768488},
      ]}
      ]}
      var renderPseudoSprite = function(object, context){
        context.translate(object.xCenter, object.yCenter);
        context.rotate( object.rotation * Math.PI/180);
        object.shapes.forEach(function(shape){
          switch (shape.type){
            case 'curvedline':
              renderCurvedLine(object, context, shape);
              //debugRender(object, context, shape);
              break;
            case 'polygon':
            case 'polyline':
              renderPolygon(object, context, shape);
              break;
            case 'circle':
              renderCircle(object, context, shape);
              break;
            case 'curvedshape':
              renderCurvedShape(object, context, shape);
              //renderPolygon(object, context, shape);
              //debugRender(object,context,shape);
              break;
          }
        });
        context.rotate( (object.rotation * -1) * Math.PI/180);
        context.translate( (object.xCenter * -1), (object.yCenter * -1) );
      }
      var renderPolygon = function(object, context, shape){
        context.beginPath();
        context.moveTo( (shape.positions[0].x * object.width), (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          context.lineTo( (p.x * object.width), (p.y * object.height) );
        });
        context.globalAlpha = shape.globalAlpha;
        switch (shape.type){
          case 'polyline':
            context.strokeStyle = colorArray[shape.color];
            context.lineWidth = shape.lineWidth * object.width;
            context.stroke();
            break;
          case 'polygon':
            context.fillStyle = colorArray[shape.color];
            context.fill();
            if (shape.globalAlpha >= 0.9){
              context.lineWidth = 1;
              context.strokeStyle = colorArray[shape.color];
              context.stroke();
            }
            break;
        }
        context.closePath();
        if (shape.symmetryBool === true){
          symmetryRenderPoly(object, context, shape);
        }
      }
      var renderCircle = function(object, context, shape){
        context.beginPath();
        context.arc( (shape.positions[0].x * object.width), (object.height * shape.positions[0].y), (shape.radius * object.width), 0, Math.PI * 2);
        context.globalAlpha = shape.globalAlpha;
        if (shape.line === true){
          context.strokeStyle = colorArray[shape.color];
          context.stroke();
        } else {
          context.fillStyle = colorArray[shape.color];
          context.fill()
        }
        context.closePath();
        if (shape.symmetryBool === true){
          var flippedX = Math.abs(shape.positions[0].x - object.symmetryLine);
          if (shape.positions[0].x > object.symmetryLine){
            flippedX = flippedX * -1;
          }
          context.beginPath();
          context.arc( (flippedX * object.width), (shape.positions[0].y * object.height), (shape.radius * object.width), 0, Math.PI * 2)
          if (shape.line === true){
            context.stroke();
          } else {
            context.fill();
          }
          context.closePath();
        }
      }
      var renderPolyline = function(object, context, shape){
        context.beginPath();
        context.moveTo( (shape.positions[0].x * object.width),   (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          context.lineTo(  (p.x * object.width),   (p.y * object.height));
        });
        context.lineWidth = shape.lineWidth * object.width;
        context.globalAlpha = shape.globalAlpha;
        context.strokeStyle = colorArray[shape.color];
        context.stroke();
        context.closePath();
        if (shape.symmetryBool == true){
          symmetryRenderPoly(object, context, shape);
        }
      }
      var renderCurvedShape = function(object, context, shape){
        context.beginPath();
        context.moveTo(  (shape.positions[0].x * object.width) ,   (shape.positions[0].y * object.height) );
        for (var i = 1; i < shape.positions.length; i+=3){
          var lastpoint = {x: undefined, y: undefined};
          if (i+3 > shape.positions.length){
            lastpoint.x = shape.positions[0].x;
            lastpoint.y = shape.positions[0].y;
          } else{
            lastpoint.x = shape.positions[i+2].x;
            lastpoint.y = shape.positions[i+2].y;
          }
          context.bezierCurveTo(  (shape.positions[i].x * object.width),   (shape.positions[i].y * object.height),   (shape.positions[i+1].x * object.width),   (shape.positions[i+1].y * object.height),   (lastpoint.x * object.width),   (lastpoint.y * object.height) );
        }

        context.fillStyle = colorArray[shape.color];
        context.globalAlpha = shape.globalAlpha;
        context.fill();
        if (shape.globalAlpha >= 0.9){
          context.lineWidth = 1;
          context.strokeStyle = colorArray[shape.color];
          context.stroke();
        }
        context.closePath();
        if (shape.symmetryBool === true){
          symmetryRenderCurvedShape(object, context, shape);
        }
      }

      var renderCurvedLine = function(object, context, shape){
        context.beginPath();
        context.moveTo( (shape.positions[0].x * object.width), (shape.positions[0].y * object.height) );
        for ( var i = 1; i < shape.positions.length; i+=3){
          context.bezierCurveTo( (shape.positions[i].x * object.width), (shape.positions[i].y * object.height), (shape.positions[i+1].x * object.width), (shape.positions[i+1].y * object.height), (shape.positions[i+2].x * object.width), (shape.positions[i+2].y * object.height))
        }
        context.strokeStyle = colorArray[shape.color];
        context.globalAlpha = shape.globalAlpha;
        context.lineWidth = shape.lineWidth * object.width;
        context.stroke();
        context.closePath();
        if (shape.symmetryBool === true){
          symmetryRenderCurvedLine(object, context, shape);
        }

      }
      var symmetryRenderCurvedLine = function(object, context, shape){
        context.beginPath();
        var initFlippedX = Math.abs(shape.positions[0].x - object.symmetryLine);
        if (shape.positions[0].x > object.symmetryLine){
          initFlippedX = initFlippedX * -1;
        }
        context.moveTo( (initFlippedX * object.width), (shape.positions[0].y * object.height) );
        for ( var i = 1; i < shape.positions.length; i+=3){
          var flippedXOne = Math.abs(shape.positions[i].x - object.symmetryLine);
          if (shape.positions[i].x > object.symmetryLine){
            flippedXOne *= -1;
          }
          var flippedXTwo = Math.abs(shape.positions[i+1].x - object.symmetryLine);
          if (shape.positions[i+1].x > object.symmetryLine){
            flippedXTwo *= -1;
          }
          var flippedXThree = Math.abs(shape.positions[i+2].x - object.symmetryLine);
          if (shape.positions[i+2].x > object.symmetryLine){
            flippedXThree *= -1;
          }
          context.bezierCurveTo( (flippedXOne * object.width), (shape.positions[i].y * object.height), (flippedXTwo * object.width), (shape.positions[i+1].y * object.height), (flippedXThree * object.width), (shape.positions[i+2].y * object.height))
        }
        context.stroke();
        context.closePath();
      }
      var symmetryRenderPoly = function(object, context, shape){
        context.beginPath();
        var initFlippedX = Math.abs(shape.positions[0].x - object.symmetryLine);
        if (shape.positions[0].x > object.symmetryLine){
          initFlippedX = initFlippedX * -1;
        }
        context.moveTo(  (initFlippedX * object.width),   (shape.positions[0].y * object.height))
        shape.positions.forEach(function(p){
          var flippedX = Math.abs(p.x - object.symmetryLine);
          if (p.x > object.symmetryLine){
            flippedX = flippedX * -1;
          }
          context.lineTo(  (flippedX * object.width),   (p.y * object.height) );
        });
        switch (shape.type){
          //no need to set alpha or linewidth etc. already set
          case 'polyline':
            context.stroke();
            break;
          case 'polygon':
            context.fill();
            if (shape.globalAlpha >= 0.9){
              context.lineTo(  (initFlippedX * object.width),   (shape.positions[0].y * object.height));
              context.stroke();
            }
            break;
        }
        context.closePath();
      }
      var symmetryRenderCurvedShape = function(object, context, shape){
        context.beginPath();
        var initFlippedX = Math.abs(shape.positions[0].x - object.symmetryLine);
        if (shape.positions[0].x > object.symmetryLine){
          initFlippedX = initFlippedX * -1;
        }
        context.moveTo(  (initFlippedX * object.width) ,   (shape.positions[0].y * object.height) );
        for (var i = 1; i < shape.positions.length; i+=3){
          var lastpoint = {x: undefined, y: undefined};
          if (i+3 > shape.positions.length){
            lastpoint.x = Math.abs(shape.positions[0].x - object.symmetryLine);
            if (shape.positions[0].x > object.symmetryLine){
              lastpoint.x = lastpoint.x * -1;
            }
            lastpoint.y = shape.positions[0].y;
          } else{
            lastpoint.x = Math.abs(shape.positions[i+2].x - object.symmetryLine);
            if (shape.positions[i+2].x > object.symmetryLine){
              lastpoint.x = lastpoint.x * -1;
            }
            lastpoint.y = shape.positions[i+2].y;
          }
          var oneX = Math.abs(shape.positions[i].x - object.symmetryLine);
          if (shape.positions[i].x > object.symmetryLine){
            oneX = oneX * -1;
          }
          var twoX = Math.abs(shape.positions[i+1].x - object.symmetryLine);
          if (shape.positions[i+1].x > object.symmetryLine){
            twoX = twoX * -1;
          }
          context.bezierCurveTo(  (oneX * object.width),   (shape.positions[i].y * object.height),   (twoX * object.width),   (shape.positions[i+1].y * object.height),   (lastpoint.x * object.width),   (lastpoint.y * object.height) );
        }
        context.fill();
        if (shape.globalAlpha >= 0.9){
          context.stroke();
        }
        context.closePath();
      }
      var debugRender = function(object, context, shape){
        shape.positions.forEach(function(p){
          context.beginPath();
          context.arc(  (p.x * object.width),   (p.y * object.height), 10, 0, Math.PI * 2);
          context.globalAlpha = 0.5;
          context.fillStyle = 'black';
          context.fill();
          context.closePath();
        });
      }
      var debugPoint = function(x, y){
        ctx.beginPath();
        ctx.arc(x,y,10,0,Math.PI * 2);
        ctx.globalAlpha = 0.5;
        ctx.fillStyle = 'red';
        ctx.fill();
        ctx.closePath();
        console.log(x + ", " + y);
      }
      var incX = 5;
      var incY = 10;
      var wave = 0;
      var color = 100;
      var update = function(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = 'black';
        ctx.fillRect(0,0,canvas.width,canvas.height);
        //spaceTank.rotation += 0.1;
        //color += 1;
        spaceTank.xCenter -= 1;
        smallestEnemy.xCenter -= 0.5;
        colorArray[0] = "hsl(" + color + ", 100%, 50%";
        colorArray[1] = "hsl(" + color + ", 100%, 0%";
        renderPseudoSprite(spaceTank, ctx);
        renderPseudoSprite(smallestEnemy, ctx);
      }
      //update();
      setInterval(update, 25);
    </script>
  </body>
</html>
