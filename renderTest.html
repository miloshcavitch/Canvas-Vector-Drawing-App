<!DOCTYPE html>
  <head>

  </head>
  <body>
    <canvas id='myCanvas' width='1000px' height='1000px'></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var ctx = canvas.getContext('2d');

      var black = '#000000';
      var pseudoSprite = {symmetryLine: 677.5, xCenter: 677.5, yCenter: 250, width: 402, height: 393, shapes: [
      {color: black, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.4490049751243781, y: 0.05343511450381679},
      {x: -0.34950248756218905, y: -0.2951653944020356},
      {x: 0.5509950248756219, y: -0.4402035623409669},
      {x: 0.4191542288557214, y: 0.1475826972010178},
      {x: 0.07338308457711443, y: -0.2035623409669211},
      {x: -0.21766169154228857, y: -0.21628498727735368},
      {x: -0.16791044776119404, y: 0.18575063613231552},
      {x: -0.3743781094527363, y: 0.21119592875318066},
      {x: -0.27238805970149255, y: -0.25699745547073793},
      {x: 0.1181592039800995, y: -0.272264631043257},
      {x: 0.3818407960199005, y: -0.01272264631043257},
      {x: 0.4664179104477612, y: -0.356234096692112},
      {x: -0.3246268656716418, y: -0.26208651399491095},
      {x: -0.39427860696517414, y: 0.07633587786259542},
      ]},
      {color: black, globalAlpha: 0.52, type: 'circle',radius : 0.05807272402949628, positions: [

      {x: 0.053482587064676616, y: 0.06870229007633588}]},
      {color: black, globalAlpha: 1, type: 'polygon',positions: [

      {x: -0.18781094527363185, y: 0.4732824427480916},
      {x: -0.06592039800995025, y: 0.3282442748091603},
      {x: 0.4017412935323383, y: 0.2951653944020356},
      {x: 0.26243781094527363, y: 0.5597964376590331},
      ]},
      {color: black, globalAlpha: 1, type: 'polyline',lineWidth: 5.300000000000001, positions: [

      {x: -0.28233830845771146, y: 0.3842239185750636},
      {x: -0.12064676616915423, y: 0.29770992366412213},
      {x: -0.1256218905472637, y: -0.07888040712468193},
      {x: 0.043532338308457715, y: -0.07888040712468193},
      {x: 0.33955223880597013, y: 0.15776081424936386},
      {x: 0.5161691542288557, y: 0.24427480916030533},
      {x: 0.060945273631840796, y: 0.22137404580152673},
      ]},
      ]}
      var renderPseudoSprite = function(object, context){
        object.shapes.forEach(function(shape){
          switch (shape.type){
            case 'polyline':
              renderPolyline(object, context, shape);
              break;
            case 'curvedline':
              //renderCurvedLine(shape);
              break;
            case 'polygon':
              renderPolygon(object, context, shape);
              break;
            case 'circle':
              renderCircle(object, context, shape);
              break;
          }
        });
      }
      var renderPolygon = function(object, context, shape){
        context.beginPath();
        context.moveTo(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          console.log(object.width);
          context.lineTo(object.xCenter + (p.x * object.width), object.yCenter + (p.y * object.height) );
        });
        context.fillStyle = shape.color;
        context.globalAlpha = shape.globalAlpha;
        context.fill();
        context.closePath();
      }
      var renderCircle = function(object, context, shape){
        console.log('circle');
        context.beginPath();
        context.arc(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (object.width * shape.positions[0].y), (shape.radius * object.width), 0, Math.PI * 2);
        context.fillStyle = shape.color;
        context.globalAlpha = shape.globalAlpha;
        context.fill()
        context.closePath();
      }
      var renderPolyline = function(object, context, shape){
        context.beginPath();
        context.moveTo(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          context.lineTo(object.xCenter + (p.x * object.width), object.yCenter + (p.y * object.height));
        });
        context.lineWidth = shape.lineWidth;
        context.globalAlpha = shape.globalAlpha;
        context.strokeStyle = shape.color;
        context.stroke();
        context.closePath();
      }
      var incX = 5;
      var incY = 10;
      var update = function(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        renderPseudoSprite(pseudoSprite, ctx);
        pseudoSprite.width += incX;
        pseudoSprite.height += incY;
        if (pseudoSprite.width > 1000 || pseudoSprite.width <= 100){
          incX *= -1;
        }
        if (pseudoSprite.height > 1000 || pseudoSprite.height <= 35){
          incY *= -1;
        }
      }
      setInterval(update, 25);
    </script>
  </body>
</html>
