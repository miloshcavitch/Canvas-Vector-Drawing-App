<!DOCTYPE html>
  <head>

  </head>
  <body>
    <canvas id='myCanvas' width='1000px' height='1000px'></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var ctx = canvas.getContext('2d');

      var black = '#000000';
var pseudoSprite = {symmetryLine: 677.5, xCenter: 677.5, yCenter: 250, width: 462, height: 227, shapes: [
{color: black, globalAlpha: 1, type: 'curvedshape',positions: [

{x: -0.6071428571428571, y: -0.02643171806167401},
{x: -0.6295093795093795, y: -0.16446402349486042},
{x: -0.8344155844155844, y: -0.1762114537444934},
{x: -0.6742424242424242, y: -0.44052863436123346},
{x: -0.6634199134199135, y: -0.801762114537445},
{x: -0.4707792207792208, y: -0.6872246696035242},
{x: -0.36904761904761907, y: -0.8105726872246696},
{x: 0.16558441558441558, y: -0.8193832599118943},
{x: -0.11219336219336228, y: -0.2701908957415566},
{x: 0.016233766233766232, y: 0},
{x: -0.11291486291486283, y: 0.06020558002936866},
{x: -0.24206349206349215, y: 0.12041116005873707},
{x: -0.3712121212121212, y: 0.18061674008810572},
{x: -0.3712121212121212, y: -0.030837004405286344},
{x: -0.3712121212121212, y: -0.2422907488986784},
{x: -0.3712121212121212, y: -0.45374449339207046},
{x: -0.42821067821067815, y: -0.42731277533039647},
{x: -0.48520923520923515, y: -0.4008810572687225},
{x: -0.5422077922077922, y: -0.3744493392070485},
{x: -0.6006493506493507, y: -0.21145374449339208},
{x: -0.4873737373737373, y: -0.039647577092511016},
{x: -0.45995670995670995, y: 0.1277533039647577},
{x: -0.509018759018759, y: 0.07635829662261372},
{x: -0.5580808080808081, y: 0.024963289280469855},
]},
]}
      var renderPseudoSprite = function(object, context){
        object.shapes.forEach(function(shape){
          switch (shape.type){
            case 'polyline':
              renderPolyline(object, context, shape);
              break;
            case 'curvedline':
              //renderCurvedLine(shape);
              break;
            case 'polygon':
              renderPolygon(object, context, shape);
              break;
            case 'circle':
              renderCircle(object, context, shape);
              break;
            case 'curvedshape':
              renderCurvedShape(object, context, shape);
              break;

          }
        });
      }
      var renderPolygon = function(object, context, shape){
        context.beginPath();
        context.moveTo(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          context.lineTo(object.xCenter + (p.x * object.width), object.yCenter + (p.y * object.height) );
        });
        context.fillStyle = shape.color;
        context.globalAlpha = shape.globalAlpha;
        context.fill();
        context.closePath();
      }
      var renderCircle = function(object, context, shape){
        context.beginPath();
        context.arc(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (object.width * shape.positions[0].y), (shape.radius * object.width), 0, Math.PI * 2);
        context.fillStyle = shape.color;
        context.globalAlpha = shape.globalAlpha;
        context.fill()
        context.closePath();
      }
      var renderPolyline = function(object, context, shape){
        context.beginPath();
        context.moveTo(object.xCenter + (shape.positions[0].x * object.width), object.yCenter + (shape.positions[0].y * object.height));
        shape.positions.forEach(function(p){
          context.lineTo(object.xCenter + (p.x * object.width), object.yCenter + (p.y * object.height));
        });
        context.lineWidth = shape.lineWidth;
        context.globalAlpha = shape.globalAlpha;
        context.strokeStyle = shape.color;
        context.stroke();
        context.closePath();
      }
      var renderCurvedShape = function(object, context, shape){
        context.beginPath();
        context.moveTo(object.xCenter + (shape.positions[0].x), object.yCenter + (shape.positions[0].y));
        for (var i = 1; i < shape.positions.length -1; i += 3){
          var lastpoint = {x: undefined, y: undefined};
          if (i+3 > shape.positions.length){
            lastpoint.x = shape.positions[0].x;
            lastpoint.y = shape.positions[0].y;
          } else{
            lastpoint.x = shape.positions[i+2].x;
            lastpoint.y = shape.positions[i+2].y;
          }
          var one = {x: object.xCenter + (shape.positions[i].x * object.width), y: object.yCenter + (shape.positions[i].y * object.height)};
          var two = {x: object.xCenter + (shape.positions[i+1].x * object.width), y: object.yCenter + (shape.positions[i+1].y * object.height)};
          var three = {x: object.xCenter + (lastpoint.x * object.width), y: object.yCenter + (lastpoint.y * object.height)};
          context.bezierCurveTo(one.x,one.y,two.x,two.y,three.x,three.y);
          console.log(three.y);
        }
        context.fillStyle = shape.color;
        context.globalAlpha = shape.globalAlpha;
        context.fill();
        context.closePath();
      }
      var incX = 5;
      var incY = 10;
      var update = function(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        renderPseudoSprite(pseudoSprite, ctx);
        pseudoSprite.width += incX;
        pseudoSprite.height += incY;
        if (pseudoSprite.width > 1000 || pseudoSprite.width <= 100){
          incX *= -1;
        }
        if (pseudoSprite.height > 1000 || pseudoSprite.height <= 35){
          incY *= -1;
        }
      }
      setInterval(update, 25);
    </script>
  </body>
</html>
